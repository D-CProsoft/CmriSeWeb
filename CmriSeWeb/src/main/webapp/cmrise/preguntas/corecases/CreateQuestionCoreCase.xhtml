<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template/template.xhtml">

<ui:define name="xxhrwjs">
 <script type="text/javascript">
 function handleCreateRequest(xhr, status, args){
 	 if(args.validationFailed) {
		 argsValidationFailed(); 
     }
 }
 </script>
</ui:define>
                
<ui:define name="content">
<p:breadCrumb>
    <p:menuitem value="Inicio" outcome="PaginaPrincipal" />
     <p:menuitem value="Crear Pregunta Caso Pricipal" url="#"/>
</p:breadCrumb>
<h1>Crear Pregunta Caso Principal</h1>

<div class="ui-g">
 <div class="ui-g-2">
   <h:form id="arbolPrincipalForm" >
   <p:panelGrid  columns="1" layout="grid">
     <f:facet name="header">
        <div class="xxdivTree">Arbol Caso Principal</div>
     </f:facet>
      <p:dataList var="ccPreguntasHdrV1" value="#{createQuestionCoreCaseForm.listCcPreguntasHdrV1}" type="definition" responsive="true">
       <f:facet name="caption">#{updateCoreCaseForm.nombreCc}</f:facet>
       <p:column>
         <p:commandLink action="#{createQuestionCoreCaseForm.updatePregunta(ccPreguntasHdrV1)}">
         <h:outputText value="#{ccPreguntasHdrV1.titulo}" />
         </p:commandLink>
       </p:column>
     </p:dataList>
     <p:commandButton immediate="true" title="Nuevo"  value="Nueva Pregunta" icon="pi pi-plus" action="#{createQuestionCoreCaseForm.nuevaPregunta()}"/>
   </p:panelGrid>
   <p:panelGrid  columns="1" layout="grid">
     <f:facet name="header">
        <div class="xxdivTree">Series Dicom</div>
     </f:facet>
     <p:commandButton immediate="true" title="Nuevo"  value="Nueva Serie" icon="pi pi-plus" action="Preguntas-Create-CoreCase"/>
   </p:panelGrid>
   </h:form>
 </div>
 <div class="ui-g-10">
  <h:form id="createQuestionCoreCaseForm">
    <p:panelGrid id="questionInformationForm" columns="3" layout="grid" columnClasses="ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-8,ui-g-12 ui-md-6 ui-lg-2">
      <p:outputLabel for="internalName" value="Nombre Interno" />
      <p:inputText id="internalName" value="#{createQuestionCoreCaseForm.nombrePreguntaHdr}"  placeholder="Nombre Interno"  maxlength="128" style="width:100%" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
      <p:message for="internalName"/>
      <p:outputLabel for="title" value="Título en TOC" />
      <p:inputText id="title" value="#{createQuestionCoreCaseForm.tituloPreguntaHdr}" placeholder="Título"  maxlength="128" style="width:100%" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
      <p:message for="title"/>
      <p:outputLabel for="questionType" value="Tipo de Pregunta" />
      <p:selectOneMenu id="questionType" value="#{createQuestionCoreCaseForm.tipoPreguntaHdr}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
      <f:selectItem itemLabel="Seleccione un tipo de pregunta" itemValue="" />
      <f:selectItems value="#{selectsHelper.selectTipoPreguntaCoreCaseItems}" />
      </p:selectOneMenu>
      <p:message for="questionType"/>
      <p:outputLabel for="topic" value="Tema de Pregunta" />
	  <p:selectOneMenu id="topic" value="#{createQuestionCoreCaseForm.temaPreguntaHdr}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
	  <f:selectItem itemLabel="Seleccione un tema" itemValue="" />
	  <f:selectItems value="#{selectsHelper.selectTemaDePreguntaItems}" />
	  </p:selectOneMenu>
	  <p:message for="topic"/>      
    </p:panelGrid>
    <div class="ui-g">
	  <div class="ui-g-12 ui-md-6 ui-lg-2">
	   <p:outputLabel for="tag" value="Etiqueta" />
	  </div>
	  <div class="ui-g-12 ui-md-6 ui-lg-8">
	    <div class="ui-inputgroup">
	    <span class="ui-inputgroup-addon"><i class="fa fa-tag"></i></span>
	    <p:inputText id="tag" value="#{createQuestionCoreCaseForm.etiquetasPreguntaHdr}" maxlength="255" style="width:100%"/>
	    </div>
	  </div>
	  <div class="ui-g-12 ui-md-6 ui-lg-2">
	    <p:message for="tag"/>  
	  </div>
	   <div class="ui-g-12 ui-md-6 ui-lg-2">
	   <p:outputLabel for="internalComments" value="Comentarios Internos" />
	  </div>
	  <div class="ui-g-12 ui-md-6 ui-lg-8">
	    <p:textEditor id="internalComments" value="#{createQuestionCoreCaseForm.comentariosPreguntaHdr}" widgetVar="internalCommentsWV"  height="100">
		    <f:facet name="toolbar">
		        <span class="ql-formats">
		            <button class="ql-bold"></button>
		            <button class="ql-italic"></button>
		            <button class="ql-underline"></button>
		            <button class="ql-strike"></button>
		            <button class="ql-unorderedlist"></button>
		            <button class="ql-orderedlist"></button>
		        </span>
		    </f:facet>
		</p:textEditor>
	  </div>
	  <div class="ui-g-12 ui-md-6 ui-lg-2">
	    <p:message for="internalComments"/>  
	  </div>
	  </div>
	  <div class="ui-g">
	   <div class="ui-g-12 ui-md-6 ui-lg-2">
	    <p:commandButton value="Crear" update="questionInformationForm" oncomplete="handleCreateRequest(xhr, status, args)" action="#{createQuestionCoreCaseForm.create()}"/>
	   </div>
	   <div class="ui-g-12 ui-md-6 ui-lg-2">
	     <p:commandButton value="Cancelar"/>
	   </div>
	  </div>
	</h:form>
 </div> <!-- END <div class="ui-g-10"> -->
 </div> <!-- END <div class="ui-g"> -->
</ui:define>
</ui:composition>