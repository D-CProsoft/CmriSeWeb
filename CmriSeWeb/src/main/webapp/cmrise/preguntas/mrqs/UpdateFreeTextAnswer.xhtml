<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template/template.xhtml">
<ui:define name="xxhrwjs">
<script type="text/javascript">
function handleUpdateRequest(xhr, status, args){
	 if(args.validationFailed|| !args.updateIn) {
		 argsValidationFailed(); 
      }
}

function handlePresentationRequest(xhr, status, args){
	console.log("Entra handlePresentationRequest");
	 if(args.validationFailed|| !args.updateIn) {
		 argsValidationFailed(); 
      }
	console.log("Sale handlePresentationRequest");
}
</script>
</ui:define>

<ui:define name="xxhrwcss">
<style type="text/css">
.myPanelStyle1.ui-panel .ui-panel-titlebar {
color: #3c763d;background-color: #dff0d8;border-color: #d6e9c6;
}
.myPanelStyle2.ui-panel .ui-panel-titlebar {
color: #8a6d3b;background-color: #fcf8e3;border-color: #faebcc;
}
.myPanelStyle3.ui-panel .ui-panel-titlebar {
color: #a94442;background-color: #f2dede;border-color: #ebccd1;
}    
.red-button.ui-button.ui-state-default {
        background-color: #d9534f;
        border-color: #d9534f;
        color: #fff;
        margin-top:5px; 
    }
 
    .red-button.ui-button.ui-state-default:enabled:hover, 
    .red-button.ui-button.ui-state-default:focus {
        background-color: #d43f3a;
        border-color: #d9534f;
    }
</style>
</ui:define>

<ui:define name="content">

<p:dialog id="presentationDialogId" widgetVar="presentationDialogWV" modal="true" closable="true" closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Agregar Imagenes">
 <h:form id="presentationForm" enctype="multipart/form-data">
  <p:growl id="messages" showDetail="true" />       
     
    <div class="ui-g">
    <div class="ui-g-12">
       <p:outputLabel for="tituloSuperiorId" value="Título Superior" />
    </div>
    <div class="ui-g-12">
      <p:inputText id="tituloSuperiorId" style="width:60%" value="#{updateFTAMrqForm.presentMrqsImagenesGrp.tituloSuperior}" />
    </div>
    <div class="ui-g-12">
      <p:message for="tituloSuperiorId"/>
    </div>
    
     <div class="ui-g-12">
     <p:fileUpload id="presentatioFilesID" value="#{updateFTAMrqForm.presentationFiles}"  label="Seleccionar" mode="simple"  multiple="true"  allowTypes="/(\.|\/)(jpg)$/" update="presentationForm" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
    </div>
     <div class="ui-g-12">
      <p:message for="presentatioFilesID"/>
    </div>
    <div class="ui-g-6">
     <p:commandButton value="Procesar"  action="#{updateFTAMrqForm.uploadMultiple}" update="presentationForm" ajax="false" />
    </div>
    <div class="ui-g-6">
      <p:commandButton value="Cancelar"  onclick="PF('presentationDialogWV').hide();" />
    </div>
  </div>
  
</h:form>
</p:dialog> 
 
 <h:form id="updateQuestionFreeTextForm" rendered="#{updateFTAMrqForm.limitedFreeTextAnswer}">
 <p:growl id="growl" showDetail="true" life="5000" />  
 <h1>INFORMACIÓN DEL REACTIVO</h1>
<div class="card">
     <div class="ui-g">
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:outputLabel for="statusMrqs" value="Estado" />
        </div>
        <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="statusMrqs"  value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.estatus}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
          <f:selectItem itemLabel="Seleccione un Valor.." itemValue="" />
          <f:selectItems value="#{selectsHelper.selectEstatusMrqsItems}" />
         </p:selectOneMenu>
          <p:message for="statusMrqs"/>
         </div>
         <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="admonExamen" value="Examen" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="admonExamen" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.admonExamen}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
           <p:ajax listener="#{updateFTAMrqForm.onAdmonExamenChange}" update="materia" />
           <f:selectItem itemLabel="Seleccione..." itemValue="" />
           <f:selectItems value="#{updateFTAMrqForm.selectExamenesHdr}" />
          </p:selectOneMenu>
          <p:message for="admonExamen"/>
         </div>
		 <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="materia" value="Materia" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="materia" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.admonMateria}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
          <p:ajax listener="#{updateFTAMrqForm.onAdmonMateriaChange}" update="subMateria" />
          <f:selectItem itemLabel="Seleccione..." itemValue="" />
          <f:selectItems value="#{updateFTAMrqForm.selectMateriasHdr}" />
         </p:selectOneMenu>
         <p:message for="materia"/>
         </div>
         <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="subMateria" value="Clasificacion" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="subMateria" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.admonSubmateria}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
          <f:selectItem itemLabel="Seleccione..." itemValue="" />
          <f:selectItems value="#{updateFTAMrqForm.selectSubMaterias}" />
          </p:selectOneMenu>
         <p:message for="subMateria"/>
         </div>
         
           <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="fechaElaboracion" value="Fecha Elaboracion" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:calendar id="fechaElaboracion" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.fechaElaboracion}" locale="es" pattern="dd/MM/yyyy" mask="true" required="true"  requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
         <p:message for="fechaElaboracion"/>
         </div>
       </div>
       
        <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="creadoPor" value="Elabora" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:inputText id="creadoPor" value="#{userLogin.nombreCompletoUsuario}" readonly="true"/>
         <p:message for="creadoPor"/>
         </div>
       </div>
       
         
          <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="questionType" value="Tipo de Pregunta" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:selectOneMenu id="questionType" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.tipoPregunta}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
          <f:selectItem itemLabel="Seleccione un tipo de pregunta" itemValue="" />
          <f:selectItems value="#{selectsHelper.selectTipoPreguntaItems}" />
         </p:selectOneMenu>
          <p:message for="questionType"/>
         </div>
         <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="diagnostico" value="Diagnostico" />
        </div>
         <div class="ui-g-12 ui-md-9">
           <p:inputText id="diagnostico"  value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.diagnostico}" maxlength="500" style="width:100%"/>
         </div>
           <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="bibliografia" value="Bibliografia" />
        </div>
         <div class="ui-g-12 ui-md-9">
           <p:inputText id="bibliografia"  value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.bibliografia}" maxlength="500" style="width:100%"/>
         </div>
         <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="notas" value="Notas" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:textEditor id="notas" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.notas}" widgetVar="internalCommentsWV"  height="100" maxlength="1000">
		    <f:facet name="toolbar">
		        <span class="ql-formats">
		            <button class="ql-bold"></button>
		            <button class="ql-italic"></button>
		            <button class="ql-underline"></button>
		            <button class="ql-strike"></button>
		            <button class="ql-unorderedlist"></button>
		            <button class="ql-orderedlist"></button>
		        </span>
		    </f:facet>
		</p:textEditor>
        </div>
     </div>
 </div>

    <div class="ui-g card">
     <div class="ui-g-12 ui-md-12" >
       <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:splitButton immediate="true" title="Nuevo"  value="Imagenes" icon="pi pi-plus">
	       <p:menuitem value="Agregar Nueva Imagen" onclick="PF('presentationDialogWV').show();"  />
	       </p:splitButton>
	   </div>
	   
	   <div class="ui-g-12 ui-md-9"> 
	    <ui:repeat var="imagenesGrupo" value="#{updateFTAMrqForm.listPresentMrqsImagenesGrp}" varStatus="status">
	    <div class="ui-g-12">
	       <h3>#{imagenesGrupo.tituloSuperior}</h3>
	      </div>
	      <div class="ui-g-12">
	       <ui:repeat var="imagenes" value="#{imagenesGrupo.listMrqsImagenes}" varStatus="status">
	         <h:graphicImage value="data:image/jpg;base64,#{imagenes.imagenBase64}" style="max-width: 300px; max-height: 300px;" />
	       </ui:repeat>
	      </div>
	    </ui:repeat>
	  </div>
    </div>        
   </div>
 
 
<div class="card">
   <div class="ui-g">
      
       <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="questionText"  value="Texto de la pregunta" maxlength="500"/>
        </div> 
         <div class="ui-g-12 ui-md-9">
          <p:inputTextarea id="questionText" value="#{updateFTAMrqForm.textoPregunta}"  style="width:100%" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
          <p:message for="questionText"/>
         </div>
         
           <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel  value="Texto de sugerencias" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:inputText id="hintsText" value="#{updateFTAMrqForm.textoSugerencias}"   placeholder="(No use mas de 5 palabras)"  maxlength="500" style="width:100%" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
          <p:message for="hintsText"/>
         </div>
         
          <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:outputLabel for="scoringMethod" value="Método de puntuación" />
        </div>
        <div class="ui-g-12 ui-md-9">
         <p:selectOneMenu id="scoringMethod" value="#{updateFTAMrqForm.metodoPuntuacion}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"  >
          <f:selectItem itemValue="WRONG_CORRECT" itemLabel="Correcto - Incorrecto"/>
         </p:selectOneMenu>
          <p:message for="scoringMethod"/>
         </div>
         
         <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:outputLabel for="scoringValue" value="Valor de puntuación" />
        </div>
        <div class="ui-g-12 ui-md-9">
         <p:selectOneMenu id="scoringValue" value="#{updateFTAMrqForm.valorPuntuacion}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}" >
          <f:selectItems value="#{selectsHelper.selectScoringValueItems}" />
         </p:selectOneMenu>
          <p:message for="scoringValue"/>
         </div>
         
         <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:outputLabel for="correctAnswer" value="Respuesta Correcta" />
         </div>
         <div class="ui-g-12 ui-md-9">
          <p:inputText id="correctAnswer" value="#{updateFTAMrqForm.respuestaCorrecta}" placeholder="Respuesta Correcta"  maxlength="500" style="width:100%" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
          <p:message for="correctAnswer"/>
         </div>
     </div>
</div>

<div class="card">
    <div class="ui-g">
       <div class="ui-g-12 ui-md-6">
        <p:panel styleClass="myPanelStyle1" >
          <f:facet name="header" >PALABRAS INCLUIDAS</f:facet>
          <p:dataGrid var="incWords" value="#{updateFTAMrqForm.listIncWmrqsListasPalabras}" columns="1" layout="grid"  >
              <div class="ui-g-12 ui-md-12 ui-inputgroup">
               <p:inputText value="#{incWords.palabra}" placeholder="Agregar palabra.." style="width:100%" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
                <p:commandButton icon="pi pi-times" styleClass="red-button" oncomplete="PF('deleteListasPalabrasWV').show();" actionListener="#{updateFTAMrqForm.selectWordForAction(incWords)}"/>     
              </div>
               <div class="ui-g-12 ui-md-12">
             <p:inputText value="#{incWords.sinonimos}" placeholder="Agregar sinonimos.." style="width:100%"  required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
              </div>
             <div class="ui-g-12 ui-md-12">
             <p:outputLabel value="Lista de sinónimos separados por comas"/>
             </div>
           </p:dataGrid>
          <p:commandButton value="Agregar nueva palabra" actionListener="#{updateFTAMrqForm.addIncWord()}" update="updateQuestionFreeTextForm growl" style="margin:10px;"/>
        </p:panel>
       </div>
        <div class="ui-g-12 ui-md-6">
           <p:panel styleClass="myPanelStyle3" >
           <f:facet name="header" >PALABRAS EXCLUIDAS</f:facet>
             <p:dataGrid var="excWords" value="#{updateFTAMrqForm.listExcWmrqsListasPalabras}" columns="1" layout="grid">
	            <div class="ui-g-12 ui-md-12 ui-inputgroup">
               <p:inputText value="#{excWords.palabra}" placeholder="Agregar palabra.." style="width:100%" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
                <p:commandButton icon="pi pi-times" styleClass="red-button" oncomplete="PF('deleteListasPalabrasWV').show();" actionListener="#{updateFTAMrqForm.selectWordForAction(excWords)}"/>     
              </div>
               <div class="ui-g-12 ui-md-12">
             <p:inputText value="#{excWords.sinonimos}" placeholder="Agregar sinonimos.." style="width:100%"  required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
              </div>
             <div class="ui-g-12 ui-md-12">
             <p:outputLabel value="Lista de sinónimos separados por comas"/>
             </div>
	          </p:dataGrid>
            <p:commandButton value="Agregar nueva palabra" actionListener="#{updateFTAMrqForm.addExcWord()}" update="updateQuestionFreeTextForm growl" style="margin:10px;"/>
           </p:panel>
       </div>
      </div>
 </div>
 
 <div class="card">
 <div class="ui-g">
   <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center">
     <p:commandButton id="GuardarBtn" value="Guardar" actionListener="#{updateFTAMrqForm.update()}" update="updateQuestionFreeTextForm growl " oncomplete="handleUpdateRequest(xhr, status, args)"/>
   </div>
   <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center">
    <p:commandButton value="Guardar y Previsualizar" action="#{updateFTAMrqForm.saveAndPreview()}"/>
   </div>
   <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center">
    <p:commandButton value="Cancelar" action="#{updateFTAMrqForm.cancel()}" immediate="true"/>
   </div>
   <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center">
    <p:commandButton value="Duplicar" oncomplete="PF('duplicateMrqDialogWV').show();" rendered="false"/>
   </div>
   <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center">
    <p:commandButton value="Borrar" oncomplete="PF('deleteRolDialogWV').show();" rendered="false"/>
   </div>
  </div>
  </div>
</h:form>

<h:form id="updateQuestionMultipleChoiceForm" rendered="#{updateFTAMrqForm.multipleChoice}">
<p:growl id="growl" showDetail="true" life="5000" />  
<h1>INFORMACIÓN DEL REACTIVO</h1>
<div class="card">
     <div class="ui-g">
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:outputLabel for="statusMrqs" value="Estado" />
        </div>
        <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="statusMrqs"  value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.estatus}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
          <f:selectItem itemLabel="Seleccione un Valor.." itemValue="" />
          <f:selectItems value="#{selectsHelper.selectEstatusMrqsItems}" />
         </p:selectOneMenu>
          <p:message for="statusMrqs"/>
         </div>
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="admonExamen" value="Examen" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="admonExamen" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.admonExamen}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
           <p:ajax listener="#{updateFTAMrqForm.onAdmonExamenChange}" update="materia" />
           <f:selectItem itemLabel="Seleccione..." itemValue="" />
           <f:selectItems value="#{updateFTAMrqForm.selectExamenesHdr}" />
          </p:selectOneMenu>
          <p:message for="admonExamen"/>
         </div>
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="materia" value="Materia" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="materia" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.admonMateria}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
          <p:ajax listener="#{updateFTAMrqForm.onAdmonMateriaChange}" update="subMateria" />
          <f:selectItem itemLabel="Seleccione..." itemValue="" />
          <f:selectItems value="#{updateFTAMrqForm.selectMateriasHdr}" />
         </p:selectOneMenu>
         <p:message for="materia"/>
         </div>
           <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="subMateria" value="Clasificacion" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="subMateria" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.admonSubmateria}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
          <f:selectItem itemLabel="Seleccione..." itemValue="" />
          <f:selectItems value="#{updateFTAMrqForm.selectSubMaterias}" />
          </p:selectOneMenu>
         <p:message for="subMateria"/>
         </div>
         
           <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="fechaElaboracion" value="Fecha Elaboracion" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:calendar id="fechaElaboracion" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.fechaElaboracion}" locale="es" pattern="dd/MM/yyyy" mask="true" required="true"  requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
         <p:message for="fechaElaboracion"/>
         </div>
      
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="creadoPor" value="Elabora" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:inputText id="creadoPor" value="#{userLogin.nombreCompletoUsuario}" readonly="true"/>
         <p:message for="creadoPor"/>
         </div>
         
          <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="questionType" value="Tipo de Pregunta" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:selectOneMenu id="questionType" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.tipoPregunta}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
          <f:selectItem itemLabel="Seleccione un tipo de pregunta" itemValue="" />
          <f:selectItems value="#{selectsHelper.selectTipoPreguntaItems}" />
         </p:selectOneMenu>
          <p:message for="questionType"/>
         </div>
          <div class="ui-g-12 ui-md-3" style="text-align:right;">
          <p:outputLabel for="diagnostico" value="Diagnostico" />
         </div>
          <div class="ui-g-12 ui-md-9">
            <p:inputText id="diagnostico" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.diagnostico}" style="width:100%"  />
          </div>
         <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="bibliografia" value="Bibliografia" />
        </div>
         <div class="ui-g-12 ui-md-9">
           <p:inputText id="bibliografia"  value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.bibliografia}" maxlength="255" style="width:100%"/>
         </div>
         <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="notas" value="Notas" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:textEditor id="notas" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.notas}" widgetVar="internalCommentsWV"  height="100">
		    <f:facet name="toolbar">
		        <span class="ql-formats">
		            <button class="ql-bold"></button>
		            <button class="ql-italic"></button>
		            <button class="ql-underline"></button>
		            <button class="ql-strike"></button>
		            <button class="ql-unorderedlist"></button>
		            <button class="ql-orderedlist"></button>
		        </span>
		    </f:facet>
		</p:textEditor>
        </div>
     </div>
 </div>
 
 
 <div class="ui-g card">
     <div class="ui-g-12 ui-md-12" >
       <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:splitButton immediate="true" title="Nuevo"  value="Imagenes" icon="pi pi-plus">
	       <p:menuitem value="Agregar Nueva Imagen" onclick="PF('presentationDialogWV').show();"  />
	       </p:splitButton>
	   </div>
	   
	   <div class="ui-g-12 ui-md-9"> 
	    <ui:repeat var="imagenesGrupo" value="#{updateFTAMrqForm.listPresentMrqsImagenesGrp}" varStatus="status">
	    <div class="ui-g-12">
	       <h3>#{imagenesGrupo.tituloSuperior}</h3>
	      </div>
	      <div class="ui-g-12">
	       <ui:repeat var="imagenes" value="#{imagenesGrupo.listMrqsImagenes}" varStatus="status">
	         <h:graphicImage value="data:image/jpg;base64,#{imagenes.imagenBase64}" style="max-width: 300px; max-height: 300px;" />
	       </ui:repeat>
	      </div>
	    </ui:repeat>
	  </div>
    </div>        
   </div>
   
 
 <div class="card">
   <div class="ui-g">
      
       <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="questionText"  value="Texto de la pregunta" />
        </div> 
         <div class="ui-g-12 ui-md-9">
          <p:inputTextarea id="questionText" value="#{updateFTAMrqForm.textoPregunta}"  style="width:100%" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
          <p:message for="questionText"/>
         </div>
         
           <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel  value="Instrucciones" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:inputText id="hintsText" value="#{updateFTAMrqForm.textoSugerencias}"   placeholder="(No use mas de 5 palabras)"  maxlength="255" style="width:100%" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
          <p:message for="hintsText"/>
         </div>
         
          <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:outputLabel for="scoringMethod" value="Método de puntuación" />
        </div>
        <div class="ui-g-12 ui-md-9">
         <p:selectOneMenu id="scoringMethod" value="#{updateFTAMrqForm.metodoPuntuacion}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}"  >
         <f:selectItems value="#{selectsHelper.selectScoringMethodItems}" />
         </p:selectOneMenu>
          <p:message for="scoringMethod"/>
         </div>
         
         <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:outputLabel for="scoringValue" value="Valor de puntuación" />
        </div>
        <div class="ui-g-12 ui-md-9">
         <p:selectOneMenu id="scoringValue" value="#{updateFTAMrqForm.valorPuntuacion}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}" >
          <f:selectItems value="#{selectsHelper.selectScoringValueItems}" />
         </p:selectOneMenu>
          <p:message for="scoringValue"/>
         </div>
                <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:outputLabel for="singleMode" value="¿Modo de Respuesta Única?" />
        </div>
        <div class="ui-g-12 ui-md-9">
           <p:inputSwitch id="singleMode" onLabel="Si" offLabel="No" value="#{updateFTAMrqForm.singleAnswerMode}"/>
        </div>
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
           <p:outputLabel for="suffleOrder" value="¿Orden de Respuestas Aleatorio?" />
        </div>
        <div class="ui-g-12 ui-md-9">
           <p:inputSwitch id="suffleOrder" onLabel="Si" offLabel="No" value="#{updateFTAMrqForm.suffleAnswerOrder}"/>
        </div>
      </div>
 </div>
 
 <div class="card">
   <div  class="ui-g">
    <div class="ui-g-12">
  
   <div class="ui-g-4" style="text-align:left;">
   <h1>
   <p:outputLabel id="correcta" value="Correcta" />
   </h1>
   </div>
  
      <div class="ui-g-4" style="text-align:center;">
      <h2>
    <p:outputLabel id="respuestas" value="Respuestas"  />
    </h2>
     </div>
    </div>
   
        <ui:repeat var="mrqsOpcionMultiple" value="#{updateFTAMrqForm.listMrqsOpcionMultiple}">
        <div class="ui-g" style="border: 1px solid black;width:98%;margin-bottom: 5px;" >
        <div class="ui-g-2 ui-g-nopad" style="text-align:center;">

         <div class="ui-g-6">
          <p:inputSwitch onLabel="&#10003;" offLabel="&#215;" value="#{mrqsOpcionMultiple.estatus}" />
         </div>
        </div>
       <div class="ui-g-9 ui-g-nopad">
         <div class="ui-g-12">
           <div class="ui-g-2" style="text-align:right;">
            <p:outputLabel for="answerText" value="" />
           </div>
           <div class="ui-g-10">
             <p:inputText id="answerText" style="width:99%;" value="#{mrqsOpcionMultiple.textoRespuesta}"  required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}" />
             <p:message for="answerText"/>
           </div>
         </div>

       </div>
        <div class="ui-g-1 ui-g-nopad">
           <p:commandButton icon="pi pi-times" styleClass="red-button" oncomplete="PF('deleteOpcionMultipleWV').show();" actionListener="#{updateFTAMrqForm.selectOpcionMultipleForAction(mrqsOpcionMultiple)}"/>
        </div>
       </div> <!-- END div -->
        </ui:repeat>
        
      
         
       </div>
 </div>
 
 <div class="card">
  <div class="ui-g">
   <div class="ui-g-12 ui-md-2 button-container" style="text-align:center">
     <p:commandButton id="GuardarBtn" value="Guardar" actionListener="#{updateFTAMrqForm.update()}" update="updateQuestionMultipleChoiceForm growl " oncomplete="handleUpdateRequest(xhr, status, args)"/>
   </div>
   <div class="ui-g-12 ui-md-2 button-container" style="text-align:center">
    <p:commandButton value="Previsualizar " action="#{updateFTAMrqForm.saveAndPreview()}" update="updateQuestionMultipleChoiceForm growl "/>
   </div>
   <div class="ui-g-12 ui-md-2 button-container" style="text-align:center">
    <p:commandButton value="Cerrar" action="#{updateFTAMrqForm.cancel()}" immediate="true"  />
   </div>
  </div>
 </div>
</h:form>


 <h:form id="DuplicateForm">
  <p:dialog id="duplicateMrqDialogId" widgetVar="duplicateMrqDialogWV" modal="true" closable="true" closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Duplicar Registro">
   <h2>¿Seguro que quieres duplicar esta pregunta?</h2>
    <div class="ui-g" >
              <div class="ui-g-12 ui-lg-2" >
                 <p:commandButton id="DeleteBtn" value="Aceptar" action="#{updateFTAMrqForm.duplicate()}"   />
              </div>
              <div class="ui-g-12 ui-lg-2" >
                 <p:commandButton id="CancelarBtn"  value="Cancelar"  onclick="PF('duplicateMrqDialogWV').hide();" />
              </div>
     </div>
  </p:dialog>
</h:form>
 
   
 <h:form id="DeleteForm">
  <p:dialog id="deleteRolDialogId" widgetVar="deleteRolDialogWV" modal="true" closable="true" closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Borrar Registro">
   <h2>#{msgs['globalForm.deleteMessage']}</h2>
    <div class="ui-g" >
              <div class="ui-g-12 ui-lg-2" >
                 <p:commandButton id="DeleteFtaBtn" value="Aceptar"   action="#{updateFTAMrqForm.delete()}"  />
              </div>
              <div class="ui-g-12 ui-lg-2" >
                 <p:commandButton id="CancelarFtaBtn"  value="Cancelar"  onclick="PF('deleteRolDialogWV').hide();" />
              </div>
     </div>
  </p:dialog>
  <p:dialog id="deleteListasPalabrasDialogId" widgetVar="deleteListasPalabrasWV" modal="true" closable="true" closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Borrar Registro">
   <h2>#{msgs['globalForm.deleteMessage']}</h2>
    <div class="ui-g" >
              <div class="ui-g-12 ui-lg-2" >
                 <p:commandButton id="DeleteListPalabBtn" value="Aceptar"   actionListener="#{updateFTAMrqForm.deleteWord()}" update="updateQuestionFreeTextForm" oncomplete="PF('deleteListasPalabrasWV').hide();"  />
              </div>
              <div class="ui-g-12 ui-lg-2" >
                 <p:commandButton id="CancelarListPalabBtn"  value="Cancelar"  onclick="PF('deleteListasPalabrasWV').hide();" />
              </div>
     </div>
  </p:dialog>
  <p:dialog id="deleteOpcionMultipleDialogId" widgetVar="deleteOpcionMultipleWV" modal="true" closable="true" closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Borrar Registro">
   <h2>#{msgs['globalForm.deleteMessage']}</h2>
    <div class="ui-g" >
              <div class="ui-g-12 ui-lg-2" >
                 <p:commandButton id="DeleteOpcMultBtn" value="Aceptar"   actionListener="#{updateFTAMrqForm.deleteOpcionMultiple()}" update="updateQuestionMultipleChoiceForm" oncomplete="PF('deleteOpcionMultipleWV').hide();"  />
              </div>
              <div class="ui-g-12 ui-lg-2" >
                 <p:commandButton id="CancelarOpcMultBtn"  value="Cancelar"  onclick="PF('deleteOpcionMultipleWV').hide();" />
              </div>
     </div>
  </p:dialog>
</h:form>



</ui:define>
</ui:composition>