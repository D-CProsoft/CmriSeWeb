<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template/templateCandidates.xhtml">
<ui:define name="xxhrwjs">
<script type="text/javascript">
function handleUpdateRequest(xhr, status, args){
	 if(args.validationFailed|| !args.updateIn) {
		 argsValidationFailed(); 
      }
}
</script>
</ui:define>
<ui:define name="xxhrwcss">
<style type="text/css">
     .xXwrongAnswer{
        background-color: #ffe6e6;
	    text-align: left;
	    border: 3px solid red;
	    color:red;
	    font-size:30px;
     }
     .xXcorrectAnswer{
        background-color: #e6ffe6;
	    text-align: left;
	    border: 3px solid green;
	    color:green;
	    font-size:30px;
     }
     .xXinstructions{
       background-color: #fff;
       color:black;
       font-size:20px;
     }
    
     .xXscores{
       margin-top:10px; 
       margin-bottom:10px; 
       background: #f9f9f9;;
       border: 1px solid #ccc;
       font-weight: bold;
     }
    
    
    .green-button.ui-button.ui-state-default {
        background-color: #5cb85c;
        border-color: #5cb85c;
        color: #fff;
    }
 
    .green-button.ui-button.ui-state-default:enabled:hover, 
    .green-button.ui-button.ui-state-default:focus {
        background-color: #4cae4c;
        border-color: #5cb85c;
    }
 
    .red-button.ui-button.ui-state-default {
        background-color: #d9534f;
        border-color: #d9534f;
        color: #fff;
    }
 
    .red-button.ui-button.ui-state-default:enabled:hover, 
    .red-button.ui-button.ui-state-default:focus {
        background-color: #d43f3a;
        border-color: #d9534f;
    }
</style>
</ui:define>
                
<ui:define name="content">
<h1>Previsualización MRQ</h1>
<h:form id="previewForm">
<p:growl id="growl" showDetail="true" life="5000" />  
<div class="ui-g">
 <div class="ui-g-12 ui-md-3">
   <div class="ui-g-12 ui-md-12" style="background-color: #4a4058;color: #fff;">
     <div class="ui-g-12" >
     <h3>Pregunta</h3>
     <h1>#{mrqPreviewForm.tituloPregunta}</h1>
    </div>
   </div>
   <div class="ui-g-12 ui-md-12" style="background-color: rgba(0, 0, 0, 0.3);color: #fff;">
   </div>  
   <div class="ui-g-12 ui-md-12" style="background-color: rgba(0, 0, 0, 0.3);color: #fff;">
    <h1>Tabla de Contenidos</h1>
   </div>
   <div class="ui-g-12 ui-md-12" style="background-color: #343633;color: #fff;">
    <h3>Pregunta</h3>
    <h3>#{mrqPreviewForm.tituloPregunta}</h3>
   </div>
 </div>
  <div class="ui-g-12 ui-md-9 ui-g-nopad">
      
     <div class="ui-g-12 ui-md-12">
        <div class="ui-g-12 ui-md-12">
          <div class="ui-g-12 ui-md-8">
            <h3>Pregunta > #{mrqPreviewForm.textoPregunta}</h3>
           </div>
           <div class="ui-g-12 ui-md-4">
             <p:commandButton value="Guardar y Procesar" update="previewForm" style="margin-left:15px;" actionListener="#{mrqPreviewForm.saveProceed()}" rendered="#{mrqPreviewForm.questionView}" oncomplete="handleUpdateRequest(xhr, status, args)"/>
             <p:commandButton value="Saltar" style="margin-left:15px;" action="#{mrqPreviewForm.skip()}" rendered="#{mrqPreviewForm.questionView}" immediate="true"/>
             <p:commandButton value="Continuar" style="margin-left:15px;" action="#{mrqPreviewForm.proceed()}" rendered="#{mrqPreviewForm.answerView}"/>
           </div>
           
            <ui:repeat var="imagenesGrupo" value="#{mrqPreviewForm.listPresentMrqsImagenesGrp}" varStatus="status">
		      <div class="ui-g-12">
		       <h3>#{imagenesGrupo.tituloSuperior}</h3>
		      </div>
		      <div class="ui-g-12">
		       <ui:repeat var="imagenes" value="#{imagenesGrupo.listMrqsImagenes}" varStatus="status">
		         <h:graphicImage value="data:image/jpg;base64,#{imagenes.imagenBase64}" style="max-width: 300px; max-height: 300px;" />
		       </ui:repeat>
		      </div>
		      <div class="ui-g-12">
		       <h3>#{imagenesGrupo.tituloInferior}</h3>
		      </div>
		    </ui:repeat>
           
           <div class="ui-g-12 ui-md-12">
              <h3>#{mrqPreviewForm.textoSugerencias}</h3>
           </div>
           <h:panelGroup layout="block" rendered="#{mrqPreviewForm.limitedFreeTextAnswer and mrqPreviewForm.questionView}">
           <div class="ui-g-12 ui-md-12" >
			   <p:outputLabel for="answer" value="Su Respuesta:" style="font-size: 24px;"/>
			   <p:inputTextarea id="answer" rows="10" cols="50" style="width:98%;font-size: 24px;" value="#{mrqPreviewForm.respuestaPreguntaCandidato}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
			    </p:inputTextarea>
			    <p:message for="answer"  />
			 </div>
		    </h:panelGroup>	 
		    
		     <h:panelGroup layout="block" rendered="#{mrqPreviewForm.multipleChoice and mrqPreviewForm.questionView and mrqPreviewForm.singleAnswerMode}">
		      <div class="ui-g-12 ui-md-12" >
		         <p:selectOneRadio id="answerRadioSingle" value="#{mrqPreviewForm.respuestaPreguntaCandidato}" layout="grid" columns="1" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}" >
				 <f:selectItems value="#{mrqPreviewForm.listMrqsOpcionMultiple}" var="l" itemLabel="#{l.textoRespuesta}" itemValue="#{l.numero}"/>
				 </p:selectOneRadio>
				   <p:message for="answerRadioSingle"  />
		      </div>
             </h:panelGroup>  
            
            <h:panelGroup layout="block" rendered="#{mrqPreviewForm.multipleChoice and mrqPreviewForm.questionView and not mrqPreviewForm.singleAnswerMode}">
		      <div class="ui-g-12 ui-md-12" >
		         <p:selectManyCheckbox id="answerRadioMultiple" value="#{mrqPreviewForm.respuestasPreguntaCandidato}" layout="grid" columns="1" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}" >
				 <f:selectItems value="#{mrqPreviewForm.listMrqsOpcionMultiple}" var="l" itemLabel="#{l.textoRespuesta}" itemValue="#{l.numero}"/>
				 </p:selectManyCheckbox>
				 <p:message for="answerRadioMultiple"  />
		      </div>
             </h:panelGroup>  
            
              <h:panelGroup layout="block" rendered="#{mrqPreviewForm.answerView and mrqPreviewForm.wrongAnswer and mrqPreviewForm.limitedFreeTextAnswer}" >
               <div class="ui-g-12 ui-md-12 xXwrongAnswer" >
                 Su Respuesta es INCORRECTA
               </div>
             </h:panelGroup>
		    
		    <h:panelGroup layout="block" rendered="#{mrqPreviewForm.answerView and mrqPreviewForm.correctAnswer and mrqPreviewForm.limitedFreeTextAnswer}">
               <div class="ui-g-12 ui-md-12 xXcorrectAnswer" >
                 Su Respuesta es CORRECTA
               </div>
             </h:panelGroup>
             
              <h:panelGroup layout="block" rendered="#{mrqPreviewForm.answerView}">
              <div class="ui-g-12 ui-md-12 xXscores" >
                 Puntuacíon:<h:outputText value="#{mrqPreviewForm.puntuacion}" />
              </div>
              </h:panelGroup>
		    
		     <h:panelGroup layout="block" rendered="#{mrqPreviewForm.answerView and mrqPreviewForm.wrongAnswer and mrqPreviewForm.multipleChoice}" >
               <div class="ui-g-12 ui-md-12 xXwrongAnswer" >
                  <h:outputText value="#{mrqPreviewForm.correctAnswers}" style="color:green;"/>
                  <h:outputText value="&#160;y&#160;" style="color:black;"/>
                  <h:outputText value="#{mrqPreviewForm.wrongAnswers}" />
               </div>
             </h:panelGroup>
             
		     <h:panelGroup layout="block" rendered="#{mrqPreviewForm.answerView and mrqPreviewForm.correctAnswer and mrqPreviewForm.multipleChoice}">
               <div class="ui-g-12 ui-md-12 xXcorrectAnswer" >
                  <h:outputText value="#{mrqPreviewForm.correctAnswers}" />
                  <h:outputText value="&#160;y&#160;" style="color:black;"/>
                  <h:outputText value="#{mrqPreviewForm.wrongAnswers}" style="color:red;"/>
               </div>
             </h:panelGroup>
		    
		     <h:panelGroup layout="block" rendered="#{mrqPreviewForm.answerView and mrqPreviewForm.limitedFreeTextAnswer}">
               <div class="ui-g-12 ui-md-12 xXinstructions">
                Usted contesto:
                </div>
               <div class="ui-g-12 ui-md-12 xXinstructions" style="color:green;font-weight:bold;" >
                <p:outputLabel value="#{mrqPreviewForm.respuestaPreguntaCandidato}"/>
               </div>
             </h:panelGroup>
		     
		     <h:panelGroup layout="block" rendered="#{mrqPreviewForm.answerView and mrqPreviewForm.limitedFreeTextAnswer}">
               <div class="ui-g-12 ui-md-12 xXinstructions">
                La respuesta correcta es:
               </div>
                 <div class="ui-g-12 ui-md-12 xXinstructions" style="color:black;font-weight:bold;">
                  <p:outputLabel value="#{mrqPreviewForm.respuestaPreguntaSistema}"/>
               </div>
             </h:panelGroup>
            
             <h:panelGroup layout="block" rendered="#{mrqPreviewForm.multipleChoice and mrqPreviewForm.answerView and mrqPreviewForm.singleAnswerMode}">
                <div class="ui-g-12 ui-md-12 xXinstructions">
                 La respuestas son:
               </div>
		        <div class="ui-g-12 ui-md-12 xXinstructions">
		            <ui:repeat var="mrqOpcionMultiple" value="#{mrqPreviewForm.listMrqsOpcionMultiple}">
		             <div class="ui-g-12 ui-md-12">
		             <h:panelGroup layout="block" rendered="#{mrqOpcionMultiple.estatus}">
		               <div class="ui-g-12 ui-md-1">
		                <h:panelGroup layout="block" rendered="#{mrqOpcionMultiple.estatusCandidato}">
		                <i class="pi pi-check" ></i>
		                </h:panelGroup>
		               </div>
		             <div class="ui-g-12 ui-md-11">
					      <div class="ui-inputgroup">
					          <p:commandButton icon="pi pi-check" styleClass="green-button"/> 
					          <h:outputText value="#{mrqOpcionMultiple.textoRespuesta}" />
					      </div>
					  </div>
					</h:panelGroup>
					<h:panelGroup layout="block" rendered="#{not mrqOpcionMultiple.estatus}">
					    <div class="ui-g-12 ui-md-1">
		                <h:panelGroup layout="block" rendered="#{mrqOpcionMultiple.estatusCandidato}">
		                <i class="pi pi-check" ></i>
		                </h:panelGroup>
		               </div>
					  <div class="ui-g-12 ui-md-11">
					      <div class="ui-inputgroup">
					           <p:commandButton icon="pi pi-times" styleClass="red-button"/>
						       <h:outputText value="#{mrqOpcionMultiple.textoRespuesta}" />
					      </div>
					  </div>
					</h:panelGroup>
		             </div>
		            </ui:repeat>
		      </div>
             </h:panelGroup>  
            
             <h:panelGroup layout="block" rendered="#{mrqPreviewForm.multipleChoice and mrqPreviewForm.answerView and not mrqPreviewForm.singleAnswerMode}">
		      <div class="ui-g-12 ui-md-12 xXinstructions">
		            <ui:repeat var="mrqOpcionMultiple" value="#{mrqPreviewForm.listMrqsOpcionMultiple}">
		             <div class="ui-g-12 ui-md-12">
		             <h:panelGroup layout="block" rendered="#{mrqOpcionMultiple.estatus}">
		                <div class="ui-g-12 ui-md-1">
		                <h:panelGroup layout="block" rendered="#{mrqOpcionMultiple.estatusCandidato}">
		                <i class="pi pi-check" ></i>
		                </h:panelGroup>
		               </div>
					  <div class="ui-g-12 ui-md-11">
					      <div class="ui-inputgroup">
					          <p:commandButton icon="pi pi-check" styleClass="green-button"/> 
					          <h:outputText value="#{mrqOpcionMultiple.textoRespuesta}" />
					      </div>
					  </div>
					</h:panelGroup>
					<h:panelGroup layout="block" rendered="#{not mrqOpcionMultiple.estatus}">
					    <div class="ui-g-12 ui-md-1">
		                <h:panelGroup layout="block" rendered="#{mrqOpcionMultiple.estatusCandidato}">
		                <i class="pi pi-check" ></i>
		                </h:panelGroup>
		               </div>
					  <div class="ui-g-12 ui-md-11">
					      <div class="ui-inputgroup">
					           <p:commandButton icon="pi pi-times" styleClass="red-button"/>
						       <h:outputText value="#{mrqOpcionMultiple.textoRespuesta}" />
					      </div>
					  </div>
					</h:panelGroup>
		             </div>
		            </ui:repeat>
		      </div>
             </h:panelGroup>
            
        </div>
     </div>
   </div>
</div>
</h:form>


</ui:define>
</ui:composition>
